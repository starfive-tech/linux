# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/starfive/starfive,jh7110-inno-hdmi.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Starfive JH7110 HDMI controller

description:
  The StarFive JH7110 SoC uses the HDMI signal transmiter based on innosilicon IP
  to generate HDMI signal from its input and transmit the signal to the screen.

maintainers:
  - Keith Zhao <keith.zhao@starfivetech.com>

properties:
  compatible:
    const: "starfive,jh7110-inno-hdmi"

  reg:
    minItems: 1

  interrupts:
    items:
      - description: The HDMI hot plug detection interrupt.

  clocks:
    items:
      - description: System clock of HDMI module.
      - description: Mclk clock of HDMI audio.
      - description: Bclk clock of HDMI audio.
      - description: Pixel clock generated by HDMI module.

  clock-names:
    items:
      - const: sysclk
      - const: mclk
      - const: bclk
      - const: pclk

  resets:
    items:
      - description: Reset for HDMI module.

  reset-names:
    items:
      - const: hdmi_tx

  '#sound-dai-cells':
    const: 0

  port:
    $ref: /schemas/graph.yaml#/properties/port
    description:
      Should contain a remote endpoint phandle of display controller device.

required:
  - compatible
  - reg
  - interrupts
  - clocks
  - clock-names
  - resets
  - reset-names
  - '#sound-dai-cells'
  - port

additionalProperties: false

examples:
  - |
    hdmi: hdmi@29590000 {
        compatible = "starfive,jh7110-inno-hdmi";
        reg = <0x29590000 0x4000>;
        interrupts = <99>;
        clocks = <&voutcrg 17>,
               <&voutcrg 15>,
               <&voutcrg 16>,
               <&hdmitx0_pixelclk>;
        clock-names = "sysclk", "mclk","bclk","pclk";
        resets = <&voutcrg 9>;
        reset-names = "hdmi_tx";
        #sound-dai-cells = <0>;
        hdmi_in: port {
            #address-cells = <1>;
            #size-cells = <0>;
            hdmi_in_dc: endpoint@0 {
                reg = <0>;
                remote-endpoint = <&dc_out_hdmi>;
            };
        };
    };
